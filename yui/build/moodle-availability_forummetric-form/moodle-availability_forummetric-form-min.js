YUI.add("moodle-availability_forummetric-form",function(m,e){M.availability_forummetric=M.availability_forummetric||{},M.availability_forummetric.form=m.Object(M.core_availability.plugin),M.availability_forummetric.form.initInner=function(e=[],i=[]){this.metrics=e.filter(e=>e.metric&&e.name),this.forums=i.filter(e=>e.id&&e.name)},M.availability_forummetric.form.getNode=function(e){let i='<span class="availability-forummetric">';i=(i+='<select name="forum" class="form-control">')+`<option value="0">${M.util.get_string("allforums","availability_forummetric")}</option>`;for(const a of this.forums)i+=`<option value="${a.id}">${a.name}</option>`;i+='</select><select name="metric" class="form-control">';for(const o of this.metrics)i+=`<option value="${o.metric}">${o.name}</option>`;i=(i=(i=(i+='</select><select name="condition" class="form-control">')+`<option value="morethan">${M.util.get_string("morethan","availability_forummetric")}</option>`)+`<option value="lessthan">${M.util.get_string("lessthan","availability_forummetric")}</option>`+"</select>")+'<input type="number" name="value" class="form-control" min="0"></span>';const t=m.Node.create(`<span class="form-inline">${i}</span>`),a=t.one("select[name=forum]"),o=t.one("select[name=metric]"),l=t.one("select[name=condition]"),n=t.one("input[name=value]");if(a&&a.set("value",e.forum??0),o&&o.set("value",e.metric??"numreplies"),l&&l.set("value",e.condition??"morethan"),n&&n.set("value",parseInt(e.value??0)),!M.availability_forummetric.form.addedEvents){M.availability_forummetric.form.addedEvents=!0;const r=m.one(".availability-field");r.delegate("change",()=>{M.core_availability.form.update()},".availability-forummetric select,input")}return t},M.availability_forummetric.form.fillValue=function(e,i){const t=i.one("select[name=forum]"),a=i.one("select[name=metric]"),o=i.one("select[name=condition]"),l=i.one("input[name=value]");e.forum=t?.get("value")??null,e.metric=a?.get("value")??null,e.condition=o?.get("value")??null,e.value=l?.get("value")??null},M.availability_forummetric.form.fillErrors=function(e,i){}},"@VERSION@",{requires:["base","node","moddle-core_availability-form"]});