YUI.add("moodle-availability_forummetric-form",function(m,e){function c(e){var t="<div><label>";return t+(`<input type="checkbox" name="enable${e}"> `+M.util.get_string(e,"availability_forummetric"))+'<span class="ml-2">'+`<input type="date" class="form-control" name="${e}_date">`+`<input type="time" class="form-control" name="${e}_time">`+"</span>"+"</label></div>"}M.availability_forummetric=M.availability_forummetric||{},M.availability_forummetric.form=m.Object(M.core_availability.plugin),M.availability_forummetric.form.initInner=function(e=[],t=[]){this.metrics=e.filter(e=>e.metric&&e.name),this.forums=t.filter(e=>e.id&&e.name)},M.availability_forummetric.form.getNode=function(e){let t='<span class="availability-forummetric">';t=(t+='<select name="forum" class="form-control">')+`<option value="0">${M.util.get_string("allforums","availability_forummetric")}</option>`;for(const a of this.forums)t+=`<option value="${a.id}">${a.name}</option>`;t+='</select><select name="metric" class="form-control">';for(const l of this.metrics)t+=`<option value="${l.metric}">${l.name}</option>`;t=(t=(t=(t=(t=(t+='</select><select name="condition" class="form-control">')+`<option value="morethan">${M.util.get_string("morethan","availability_forummetric")}</option>`)+`<option value="lessthan">${M.util.get_string("lessthan","availability_forummetric")}</option>`)+'</select><input type="number" name="value" class="form-control" min="0">')+c("startdate"))+c("enddate")+"</span>";const i=m.Node.create(`<span class="form-inline">${t}</span>`),a=i.one("select[name=forum]"),l=i.one("select[name=metric]"),o=i.one("select[name=condition]"),n=i.one("input[name=value]");if(a&&a.set("value",e.forum??0),l&&l.set("value",e.metric??"numreplies"),o&&o.set("value",e.condition??"morethan"),n&&n.set("value",parseInt(e.value??0)),!M.availability_forummetric.form.addedEvents){M.availability_forummetric.form.addedEvents=!0;const r=m.one(".availability-field");r.delegate("change",()=>{M.core_availability.form.update()},".availability-forummetric select,input")}return i},M.availability_forummetric.form.fillValue=function(e,t){const i=t.one("select[name=forum]"),a=t.one("select[name=metric]"),l=t.one("select[name=condition]"),o=t.one("input[name=value]");e.forum=i?.get("value")??null,e.metric=a?.get("value")??null,e.condition=l?.get("value")??null,e.value=o?.get("value")??null},M.availability_forummetric.form.fillErrors=function(e,t){}},"@VERSION@",{requires:["base","node","moddle-core_availability-form"]});